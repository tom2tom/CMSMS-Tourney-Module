/*! jquery-alertable 1.1.0
 Minimal alert, confirmation, and prompt alternatives
 Derived from V.1.0.2 by Cory LaViska https://twitter.com/claviska
 Licensed under the MIT license
*/
;if(jQuery){(function($){"use strict";var e,b,g,f,d;function a(j,k,h){var l=$.Deferred();d=document.activeElement;d.blur();$(e).add(b).remove();var i=$.extend({},$.alertable.defaults,h);if(!h||typeof h.okButton=="undefined"){i.okButton='<button id="alertable-ok" type="submit">'+i.okName+"</button>"}if(!h||typeof h.cancelButton=="undefined"){i.cancelButton='<button id="alertable-cancel" type="button">'+i.cancelName+"</button>"}e=$(i.modal).hide();b=$(i.overlay).hide();g=$(i.okButton);f=$(i.cancelButton);if(i.html){e.find("#alertable-message").html(k)}else{e.find("#alertable-message").text(k)}if(j==="prompt"){e.find("#alertable-prompt").html(i.prompt)}else{e.find("#alertable-prompt").remove()}$(e).find("#alertable-buttons").append(j==="alert"?"":f).append(g);$(i.container).append(b).append(e);i.show.call({modal:e,overlay:b});if(j==="prompt"){$(e).find("#alertable-prompt :input:first").focus()}else{$(e).find(':input[type="submit"]').focus()}$(e).on("submit.alertable",function(o){var n,p,m=[];o.preventDefault();if(j==="prompt"){p=$(e).serializeArray();for(n=0;n<p.length;n++){m[p[n].name]=p[n].value}}else{m=null}c(i);l.resolve(m)});f.on("click.alertable",function(){c(i);l.reject()});$(document).on("keydown.alertable",function(m){if(m.keyCode===27){m.preventDefault();c(i);l.reject()}});$(document).on("focus.alertable","*",function(m){if(!$(m.target).parents().is("#alertable")){m.stopPropagation();m.target.blur();$(e).find(":input:first").focus()}});return l.promise()}function c(h){h.hide.call({modal:e,overlay:b});$(document).off(".alertable");e.off(".alertable");f.off(".alertable");d.focus()}$.alertable={alert:function(i,h){return a("alert",i,h)},confirm:function(i,h){return a("confirm",i,h)},prompt:function(i,h){return a("prompt",i,h)},defaults:{container:"body",html:false,cancelName:"Cancel",okName:"OK",cancelButton:null,okButton:null,overlay:'<div id="alertable-overlay"></div>',prompt:'<input id="alertable-input" type="text" name="value">',modal:'<form id="alertable"><p id="alertable-message"></p><div id="alertable-prompt"></div><div id="alertable-buttons"></div></form>',hide:function(){$(this.modal).add(this.overlay).fadeOut(100)},show:function(){$(this.modal).add(this.overlay).fadeIn(100)}}}})(jQuery)};