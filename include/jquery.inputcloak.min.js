/*!
inputCloak
version 12/7/2015 + mods
by Philip Ermish
license: GNU General Public License v.3 or later
*/
(function($){$.fn.inputCloak=function(b){return this.each(function(){var c=$(this);var e;var f={type:"all",symbol:"*",delay:0,revealOnFocus:true,cloakOnBlur:true,customCloak:undefined};c.settings=$.extend({},f,b);c._defaults=f;c._name="inputCloak";c.cloak=function(k){if(c.settings.customCloak){c.settings.customCloak(k,c,e);return true}var j=c.settings.symbol,h=k.length,i;switch(c.settings.type.toLowerCase()){case"ssn":if(h>4){i=Array(3+1).join(j)+"-"+Array(2+1).join(j)+"-"+k.substr(h-4,4)}else{i=k}break;case"credit":if(h>4){i=j+k.substr(h-4,4)}else{i=k}break;default:i=Array(h+1).join(j);break}e.val(i);c.val(k);return this};c.reveal=function(){e.val(c.val());return this};var g=function(){d(c);e.on("focus",function(h){c.reveal(h.currentTarget.value)});e.on("blur",function(h){setTimeout(function(){c.cloak(h.currentTarget.value)},c.settings.delay)});c.cloak(c.val())};var d=function(){var h="cloaked"+Math.floor((Math.random()*100000000)+1);e=c.clone();e.attr("id","#"+h);e.removeAttr("name");c.css("display","none");c.after(e)};g();return this})}})(jQuery);
