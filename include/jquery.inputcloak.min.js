/*!
inputCloak
version 12/7/2015 + mods
by Philip Ermish
license: Apache v.2 or GNU General Public License v.3 or later
*/
(function($){$.fn.inputCloak=function(a){return this.each(function(){var b=$(this);var d;var e={type:"all",symbol:"*",delay:0,revealOnFocus:true,cloakOnBlur:true,customCloak:undefined};b.settings=$.extend({},e,a);b._defaults=e;b._name="inputCloak";b.cloak=function(k){if(b.settings.customCloak){b.settings.customCloak(k,b,d);return true}var j=b.settings.symbol,g=k.length,i;switch(b.settings.type.toLowerCase()){case"ssn":if(g>4){var l=k.substr(0,g-4),h=l.length;if(h<3){i=Array(h+1).join(j)}else{i=Array(3+1).join(j)+"-";if(h>=5){i+=Array(2+1).join(j)+"-"}else{i+=Array(h-3+1).join(j)}}i+=k.substr(g-4,4)}else{i=k}break;case"credit":if(g>4){i=j+k.substr(g-4,4)}else{i=k}break;case"see4":if(g>4){i=Array(g-4+1).join(j)+k.substr(g-4,4)}else{i=k}break;case"see1":if(g>1){i=Array(g).join(j)+k.substr(g-1,1)}else{i=""}break;default:i=Array(g+1).join(j);break}d.val(i);b.val(k);return this};b.reveal=function(){d.val(b.val());return this};var f=function(){c(b);d.on("focus",function(g){b.reveal(g.currentTarget.value)});d.on("blur",function(g){setTimeout(function(){b.cloak(g.currentTarget.value)},b.settings.delay)});b.cloak(b.val())};var c=function(){var g="cloaked"+Math.floor((Math.random()*100000000)+1);d=b.clone();d.attr("id","#"+g);d.removeAttr("name");b.css("display","none");b.after(d)};f();return this})}})(jQuery);