/*!
Utility for formatting date/time strings or Date objects using PHP DateTime format
Version 1.3.4
Copyright Â© Kartik Visweswaran, Krajee.com, 2014 - 2016
Licence proprietary - see source code
*/
;var DateFormatter;(function(){"use strict";var d,a,b,c,e,g,f;g=1000*60*60*24;f=3600;d=function(i,h){return typeof(i)==="string"&&typeof(h)==="string"&&i.toLowerCase()===h.toLowerCase()};a=function(j,i,h){var k=j.toString();h=h||"0";return k.length<i?a(h+k,i):k};b=function(h){var k,l;h=h||{};for(k=1;k<arguments.length;k++){l=arguments[k];if(!l){continue}for(var j in l){if(l.hasOwnProperty(j)){if(typeof l[j]==="object"){b(h[j],l[j])}else{h[j]=l[j]}}}}return h};c=function(k,h){for(var j=0;j<h.length;j++){if(h[j].toLowerCase()===k.toLowerCase()){return j}}return -1};e={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(i){var j=i%10,h={1:"st",2:"nd",3:"rd"};return Math.floor(i%100/10)===1||!h[j]?"th":h[j]}},separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g};DateFormatter=function(j){var h=this,i=b(e,j);h.dateSettings=i.dateSettings;h.separators=i.separators;h.validParts=i.validParts;h.intParts=i.intParts;h.tzParts=i.tzParts;h.tzClip=i.tzClip};DateFormatter.prototype={constructor:DateFormatter,getMonth:function(k){var h=this,j;j=c(k,h.dateSettings.monthsShort)+1;if(j===0){j=c(k,h.dateSettings.months)+1}return j},parseDate:function(l,w){var y=this,v,t,n,k=false,o=false,u,j,h=y.dateSettings,r,x,q,p,s,m={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(!l){return null}if(l instanceof Date){return l}if(w==="U"){n=parseInt(l);return n?new Date(n*1000):l}switch(typeof l){case"number":return new Date(l);case"string":break;default:return null}v=w.match(y.validParts);if(!v||v.length===0){throw new Error("Invalid date format definition.")}t=l.replace(y.separators,"\0").split("\0");for(n=0;n<t.length;n++){u=t[n];j=parseInt(u);switch(v[n]){case"y":case"Y":if(j){p=u.length;m.year=p===2?parseInt((j<70?"20":"19")+u):j}else{return null}k=true;break;case"m":case"n":case"M":case"F":if(isNaN(j)){r=y.getMonth(u);if(r>0){m.month=r}else{return null}}else{if(j>=1&&j<=12){m.month=j}else{return null}}k=true;break;case"d":case"j":if(j>=1&&j<=31){m.day=j}else{return null}k=true;break;case"g":case"h":x=(v.indexOf("a")>-1)?v.indexOf("a"):(v.indexOf("A")>-1)?v.indexOf("A"):-1;s=t[x];if(x!==-1){q=d(s,h.meridiem[0])?0:(d(s,h.meridiem[1])?12:-1);if(j>=1&&j<=12&&q!==-1){m.hour=j%12===0?q:j+q}else{if(j>=0&&j<=23){m.hour=j}}}else{if(j>=0&&j<=23){m.hour=j}else{return null}}o=true;break;case"G":case"H":if(j>=0&&j<=23){m.hour=j}else{return null}o=true;break;case"i":if(j>=0&&j<=59){m.min=j}else{return null}o=true;break;case"s":if(j>=0&&j<=59){m.sec=j}else{return null}o=true;break}}if(k===true&&m.year&&m.month&&m.day){m.date=new Date(m.year,m.month-1,m.day,m.hour,m.min,m.sec,0)}else{if(o!==true){return null}m.date=new Date(0,0,0,m.hour,m.min,m.sec,0)}return m.date},guessDate:function(t,v){if(typeof t!=="string"){return t}var w=this,l=t.replace(w.separators,"\0").split("\0"),k=/^[djmn]/g,q,u=v.match(w.validParts),m=new Date(),r=0,s,p,j,o,h;if(!k.test(u[0])){return t}for(p=0;p<l.length;p++){r=2;o=l[p];h=parseInt(o.substr(0,2));if(isNaN(h)){return null}switch(p){case 0:if(u[0]==="m"||u[0]==="n"){m.setMonth(h-1)}else{m.setDate(h)}break;case 1:if(u[0]==="m"||u[0]==="n"){m.setDate(h)}else{m.setMonth(h-1)}break;case 2:s=m.getFullYear();q=o.length;r=q<4?q:4;s=parseInt(q<4?s.toString().substr(0,4-q)+o:o.substr(0,4));if(!s){return null}m.setFullYear(s);break;case 3:m.setHours(h);break;case 4:m.setMinutes(h);break;case 5:m.setSeconds(h);break}j=o.substr(r);if(j.length>0){l.splice(p+1,0,j)}}return m},parseFormat:function(l,k){var i=this,j=i.dateSettings,h,n=/\\?(.?)/gi,m=function(o,p){return h[o]?h[o]():p};h={d:function(){return a(h.j(),2)},D:function(){return j.daysShort[h.w()]},j:function(){return k.getDate()},l:function(){return j.days[h.w()]},N:function(){return h.w()||7},w:function(){return k.getDay()},z:function(){var p=new Date(h.Y(),h.n()-1,h.j()),o=new Date(h.Y(),0,1);return Math.round((p-o)/g)},W:function(){var p=new Date(h.Y(),h.n()-1,h.j()-h.N()+3),o=new Date(p.getFullYear(),0,4);return a(1+Math.round((p-o)/g/7),2)},F:function(){return j.months[k.getMonth()]},m:function(){return a(h.n(),2)},M:function(){return j.monthsShort[k.getMonth()]},n:function(){return k.getMonth()+1},t:function(){return(new Date(h.Y(),h.n(),0)).getDate()},L:function(){var o=h.Y();return(o%4===0&&o%100!==0||o%400===0)?1:0},o:function(){var q=h.n(),o=h.W(),p=h.Y();return p+(q===12&&o<9?1:q===1&&o>9?-1:0)},Y:function(){return k.getFullYear()},y:function(){return h.Y().toString().slice(-2)},a:function(){return h.A().toLowerCase()},A:function(){var o=h.G()<12?0:1;return j.meridiem[o]},B:function(){var p=k.getUTCHours()*f,o=k.getUTCMinutes()*60,q=k.getUTCSeconds();return a(Math.floor((p+o+q+f)/86.4)%1000,3)},g:function(){return h.G()%12||12},G:function(){return k.getHours()},h:function(){return a(h.g(),2)},H:function(){return a(h.G(),2)},i:function(){return a(k.getMinutes(),2)},s:function(){return a(k.getSeconds(),2)},u:function(){return a(k.getMilliseconds()*1000,6)},e:function(){var o=/\((.*)\)/.exec(String(k))[1];return o||"Coordinated Universal Time"},I:function(){var p=new Date(h.Y(),0),r=Date.UTC(h.Y(),0),o=new Date(h.Y(),6),q=Date.UTC(h.Y(),6);return((p-r)!==(o-q))?1:0},O:function(){var p=k.getTimezoneOffset(),o=Math.abs(p);return(p>0?"-":"+")+a(Math.floor(o/60)*100+o%60,4)},P:function(){var o=h.O();return(o.substr(0,3)+":"+o.substr(3,2))},T:function(){var o=(String(k).match(i.tzParts)||[""]).pop().replace(i.tzClip,"");return o||"UTC"},Z:function(){return -k.getTimezoneOffset()*60},c:function(){return"Y-m-d\\TH:i:sP".replace(n,m)},r:function(){return"D, d M Y H:i:s O".replace(n,m)},U:function(){return k.getTime()/1000||0}};return m(l,l)},formatDate:function(l,r){var s=this,m,k,o,p,j,q="",h="\\";if(typeof l==="string"){l=s.parseDate(l,r);if(!l){return null}}if(l instanceof Date){o=r.length;for(m=0;m<o;m++){j=r.charAt(m);if(j==="S"||j===h){continue}if(m>0&&r.charAt(m-1)===h){q+=j;continue}p=s.parseFormat(j,l);if(m!==(o-1)&&s.intParts.test(j)&&r.charAt(m+1)==="S"){k=parseInt(p)||0;p+=s.dateSettings.ordinal(k)}q+=p}return q}return""}}})();
